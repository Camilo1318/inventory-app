(this["webpackJsonpfirebase-crud-react"]=this["webpackJsonpfirebase-crud-react"]||[]).push([[0],{37:function(e,t,a){"use strict";a.r(t);var c=a(2),r=a.n(c),s=a(17),n=a.n(s),o=a(19),i=a(5),d=a.n(i),l=a(8),u=a(13),b=a(14),j=a(21),p=(a(38),a(39),j.a.initializeApp({apiKey:"AIzaSyDgm1r5PSGsSCbESckuvq8Yfr5wWOIOVNQ",authDomain:"fb-crud-react-d717c.firebaseapp.com",projectId:"fb-crud-react-d717c",storageBucket:"fb-crud-react-d717c.appspot.com",messagingSenderId:"3407964452",appId:"1:3407964452:web:ef66cef12ed247e9afebb1"})),m=p.firestore(),O=(p.storage(),a(27)),x=a(22),g=a(23),h=a(24),f=a(3),v=function(e){var t=Object(O.a)(),a=t.register,r=t.errors,s=t.handleSubmit,n=t.setValue,o=function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("products").doc(t).get();case 2:a=e.sent,n("name",a.data().name),n("cantidad",a.data().cantidad),n("description",a.data().description),n("category",a.data().category);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){""!=e.currentId&&o(e.currentId)}),[e.currentId]),Object(f.jsxs)("form",{className:"card card-body",onSubmit:s((function(t,a){console.log(t),e.addOrEditProduct(t),a.target.reset()})),children:[Object(f.jsxs)("div",{className:"form-group input-group",children:[Object(f.jsx)("div",{className:"input-group-text bg-dark",children:Object(f.jsx)(x.a,{className:""})}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre del producto",name:"name",ref:a({required:{value:!0,message:"Campo Obligatorio"}})})]}),r.name&&Object(f.jsx)("span",{className:"badge badge-warning mb-4",children:r.name.message}),Object(f.jsxs)("div",{className:"form-group input-group",children:[Object(f.jsx)("div",{className:"input-group-text bg-dark",children:Object(f.jsx)(g.a,{className:"",children:"view_module"})}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Cantidad",name:"cantidad",ref:a({required:{value:!0,message:"Campo Obligatorio"}})})]}),r.cantidad&&Object(f.jsx)("span",{className:"badge badge-warning mb-4",children:r.cantidad.message}),Object(f.jsxs)("div",{className:"input-group mb-3",children:[Object(f.jsx)("div",{className:"input-group-text bg-dark",children:Object(f.jsx)(h.a,{className:"text-primary",children:"list"})}),Object(f.jsxs)("select",{name:"category",className:"form-select form-control",ref:a({required:{value:!0,message:"Campo Obligatorio"}}),children:[Object(f.jsx)("option",{value:"",children:"Categoria"}),Object(f.jsx)("option",{value:"mesas",children:"Mesas"}),Object(f.jsx)("option",{value:"cortavidrios",children:"Cortavidrios"}),Object(f.jsx)("option",{value:"lijas",children:"Lijas"})]})]}),r.category&&Object(f.jsx)("span",{className:"badge badge-warning mb-4",children:r.category.message}),Object(f.jsx)("div",{className:"form-group input-group",children:Object(f.jsx)("textarea",{name:"description",cols:"3",className:"form-control",placeholder:"Ingrese una descripcion",ref:a})}),Object(f.jsx)("button",{className:"btn btn-outline-info btn-block",children:""===e.currentId?"Save":"Update"})]})},N=a(26),w=a(25),k=function(e){return Object(f.jsx)(c.Fragment,{children:e.products.map((function(t){return Object(f.jsx)("div",{className:"col mb-4",children:Object(f.jsx)("div",{className:"card border-primary",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("div",{className:"text-wrap",children:Object(f.jsx)("h4",{className:"",children:t.name})}),Object(f.jsxs)("div",{className:"text-nowrap ",children:[Object(f.jsx)(w.a,{className:"m-2",role:"button",style:{fontSize:"15px"},onClick:function(){return e.setCurrentId(t.id)},children:"create"}),Object(f.jsx)(N.a,{className:"text-danger",role:"button",style:{fontSize:"20px"},onClick:function(){return e.onDeleteLink(t.id)},children:"close"})]})]}),Object(f.jsxs)("h6",{className:"card-title",children:["Cantidad: ",t.cantidad]}),Object(f.jsx)("img",{className:"rounded mx-auto d-block py-2",src:"https://via.placeholder.com/150",alt:""}),Object(f.jsx)("h6",{className:"card-subtitle mt-2 text-center",children:t.description})]})})},t.id)}))})},y=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),n=Object(u.a)(s,2),i=n[0],j=n[1],p=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a){e.next=6;break}return e.next=3,m.collection("products").doc().set(t);case 3:b.c.success("Enlace Agregado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:b.b}),e.next=10;break;case 6:return e.next=8,m.collection("products").doc(a).update(t);case 8:b.c.info("Enlace Actualizado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:b.b}),r("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.collection("products").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),j(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);var x=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Estas seguro de quere eliminar este enlace?")){e.next=4;break}return e.next=3,m.collection("products").doc(t).delete();case 3:b.c.error("Enlace eliminado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(c.Fragment,{children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-12 col-md-4 p-2",children:[Object(f.jsx)("h5",{className:"text-center",children:"Inventario de Productos"}),Object(f.jsx)(v,{addOrEditProduct:p,currentId:a,products:i})]}),Object(f.jsx)("div",{className:"col mt-5 ",children:Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-2",children:Object(f.jsx)(k,{products:i,onDeleteLink:x,setCurrentId:r})})})]})})};a(35);var C=function(){return Object(f.jsxs)("div",{className:"container p-4",children:[Object(f.jsx)(y,{}),Object(f.jsx)(b.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,limit:3}),Object(f.jsx)(b.a,{})]})};a(36);n.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.6a39b010.chunk.js.map