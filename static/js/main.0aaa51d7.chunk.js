(this["webpackJsonpfirebase-crud-react"]=this["webpackJsonpfirebase-crud-react"]||[]).push([[0],{31:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(17),s=c.n(n),i=c(15),o=c(4),d=c.n(o),l=c(7),u=c(9),b=c(13),p=c(20),j=(c(32),c(33),p.a.initializeApp({apiKey:"AIzaSyDgm1r5PSGsSCbESckuvq8Yfr5wWOIOVNQ",authDomain:"fb-crud-react-d717c.firebaseapp.com",projectId:"fb-crud-react-d717c",storageBucket:"fb-crud-react-d717c.appspot.com",messagingSenderId:"3407964452",appId:"1:3407964452:web:ef66cef12ed247e9afebb1"})),m=j.firestore(),O=(j.storage(),c(21)),f=c(2),g=function(e){var t=Object(O.a)(),c=t.register,r=t.errors,n=t.handleSubmit,s=t.setValue,o={cantidad:"",name:"",description:""},b=Object(a.useState)(o),p=Object(u.a)(b,2),j=(p[0],p[1]),g=function(){var e=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("links").doc(t).get();case 2:c=e.sent,console.log(c),s("name",c.data().name),s("cantidad",c.data().cantidad),s("description",c.data().description);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){""===e.currentId?j(Object(i.a)({},o)):g(e.currentId)}),[e.currentId]),Object(f.jsxs)("form",{className:"card card-body",onSubmit:n((function(e,t){console.log(e),t.target.reset()})),children:[Object(f.jsxs)("div",{className:"form-group input-group",children:[Object(f.jsx)("div",{className:"input-group-text bg-dark",children:Object(f.jsx)("i",{className:"material-icons",children:"create"})}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre del producto",name:"name",ref:c({required:{value:!0,message:"Campo Obligatorio"}})})]}),r.name&&Object(f.jsx)("span",{className:"badge badge-warning mb-4",children:r.name.message}),Object(f.jsxs)("div",{className:"form-group input-group",children:[Object(f.jsx)("div",{className:"input-group-text bg-dark",children:Object(f.jsx)("i",{className:"material-icons",children:"view_module"})}),Object(f.jsx)("input",{type:"text",className:"form-control",placeholder:"Cantidad",name:"cantidad",ref:c({required:{value:!0,message:"Campo Obligatorio"}})})]}),r.cantidad&&Object(f.jsx)("span",{className:"badge badge-warning mb-4",children:r.cantidad.message}),Object(f.jsx)("div",{className:"form-group input-group",children:Object(f.jsx)("textarea",{name:"description",cols:"3",className:"form-control",placeholder:"Ingrese una descripcion",ref:c})}),Object(f.jsxs)("div",{className:"form-group input-group",children:[Object(f.jsx)("label",{children:"Imagen del producto:"}),Object(f.jsx)("input",{type:"file",name:"inputFile",ref:c})]}),Object(f.jsx)("button",{className:"btn btn-outline-info btn-block",children:""===e.currentId?"Save":"Update"})]})},h=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)([]),s=Object(u.a)(n,2),o=s[0],p=s[1],j=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c){e.next=6;break}return e.next=3,m.collection("links").doc().set(t);case 3:b.c.success("Enlace Agregado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:b.b}),e.next=10;break;case 6:return e.next=8,m.collection("links").doc(c).update(t);case 8:b.c.info("Enlace Actualizado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:b.b}),r("");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.collection("links").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id}))})),p(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var h=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Estas seguro de quere eliminar este enlace?")){e.next=4;break}return e.next=3,m.collection("links").doc(t).delete();case 3:b.c.error("Enlace eliminado!",{position:"top-right",autoClose:1200,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(a.Fragment,{children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-12 col-md-4 p-2",children:[Object(f.jsx)("h3",{className:"text-center",children:"Inventario de Productos"}),Object(f.jsx)(g,{addOrEditLink:j,currentId:c,links:o})]}),Object(f.jsx)("div",{className:"col p-4",children:Object(f.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-2",children:o.map((function(e){return Object(f.jsx)("div",{className:"col mb-4",children:Object(f.jsx)("div",{className:"card border-primary",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsx)("h4",{children:e.name}),Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"material-icons text-danger",onClick:function(){return h(e.id)},children:"close"}),Object(f.jsx)("i",{className:"material-icons",onClick:function(){return r(e.id)},children:"create"})]})]}),Object(f.jsxs)("h6",{className:"card-title",children:["Cantidad: ",e.cantidad]}),Object(f.jsx)("img",{src:"",alt:""}),Object(f.jsxs)("p",{children:["Description: ",e.description]})]})})},e.id)}))})})]})})};c(29);var x=function(){return Object(f.jsxs)("div",{className:"container p-4",children:[Object(f.jsx)(h,{}),Object(f.jsx)(b.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,limit:3}),Object(f.jsx)(b.a,{})]})};c(30);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.0aaa51d7.chunk.js.map